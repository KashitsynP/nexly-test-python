# Пайплайн проверки данных из PDF-документа

Параметры проверки (на первой странице):
- Наименование компании
- Дата

Для возможности расширения используются абстрактные классы.
Для удобства использования каждый функционал выведен в отдельный модуль.
Применены аннотации типов.

Отчёт располагается в директории 'data/report.pdf'.
При желании название отчёта можно поменять в 'pipeline.py' (в корне проекта) стр.12

Для обработки PDF-файла была выбрана библиотека **fitz (PyMuPDF)**.

>В ходе анализа было выявлено, что европейские формы отчета имеют отличия в расположении и заполнении наименования компании 
и были выявлены некоторые закономерности. Поэтому для распознавания наименования компании на титульной странице задается
прямоугольная область для поиска в интервале от 10% до 30% от верхнего края первой страницы.

>[!TIP]
>**На просторах интернета наткнулся на отчёт, где наименование компании было в формате изображения. Для распознавания 
таких данных можно было бы использовать библиотеку pytesseract, но углубляться не стал, ибо это не входит в рамки текущей задачи.**

Для распознавания даты применил регулярные выражения. Написание даты в отчётах может варьироваться, поэтому задал 5 вариантов
шаблонов для распознавания.

Выполнена обработка ошибок. 
* Если документ не найден или не корректен, то выполнение скрипта останавливается с уведомлением об ошибке.
* При сопоставлении введенного и распознанного наименования компании регистр не учитывается, т.к. в разных отчётах может быть использован разный регистр.
* Если введёное наименование или дата не соответствует распознанному, то будет вывод ошибки.
* Если дата введена не в формате 'YYYY-MM-DD', то в консоли выйдет соответствующая ошибка.

Добавил несколько штрихов для красивого вывода в терминале.

Запуск скрипта из корня проекта:
```shell
python pipeline.py --company_name "Bluegem III GP SARl" --date "2023-12-31"
```